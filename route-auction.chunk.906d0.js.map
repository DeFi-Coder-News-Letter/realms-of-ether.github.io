{"version":3,"sources":["webpack:///route-auction.chunk.906d0.js","webpack:///./components/buttonLink/index.js","webpack:///./components/buttonLink/style.css","webpack:///./routes/auction/style.css","webpack:///./routes/auction/index.js"],"names":["webpackJsonp","G44s","module","__webpack_exports__","__webpack_require__","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","d","Button","__WEBPACK_IMPORTED_MODULE_0_preact__","__WEBPACK_IMPORTED_MODULE_1__style__","n","__WEBPACK_IMPORTED_MODULE_1__style___default","__WEBPACK_IMPORTED_MODULE_2_preact_router_match__","_Component","this","apply","arguments","render","href","props","to","className","a","button","children","N3gZ","exports","R+ko","fortress","window","castle","resources","end","nzNR","defineProperty","Auction","__WEBPACK_IMPORTED_MODULE_1__components_box__","__WEBPACK_IMPORTED_MODULE_2__components_buttonLink__","__WEBPACK_IMPORTED_MODULE_3__components_button__","__WEBPACK_IMPORTED_MODULE_4__style__","__WEBPACK_IMPORTED_MODULE_4__style___default","_extends","assign","target","i","length","source","key","hasOwnProperty","Contract","default","_ref","_ref2","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_this","state","userAuctions","auctions","page","userPage","user","componentWillMount","getAuctions","getUserAuctions","_this2","getAuctionsLength","err","res","limit","toNumber","auctionHash","getFortress","newState","name","web3","toAscii","replace","x","y","wins","setState","highestBid","bids","fromWei","parseFloat","auctionEnd","_this3","eth","getAccounts","error","accounts","getUserAuctionsLength","highestBidder","getAuctionAmount","amount","updateInputValue","auction","evt","bid","bidAuction","toWei","claim","endAuction","withdraw","hash","input","onChange","bind","Date","actionButtons","now","onClick","push","src","width","content","toLocaleDateString","year","month","day","hour","minute"],"mappings":"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","file":"route-auction.chunk.906d0.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"G44s\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Button; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style__ = __webpack_require__(\"N3gZ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__style__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_preact_router_match__ = __webpack_require__(\"sw5u\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_preact_router_match___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_preact_router_match__);\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\nvar Button = function (_Component) {\n\t_inherits(Button, _Component);\n\n\tfunction Button() {\n\t\t_classCallCheck(this, Button);\n\n\t\treturn _possibleConstructorReturn(this, _Component.apply(this, arguments));\n\t}\n\n\tButton.prototype.render = function render() {\n\t\treturn Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t__WEBPACK_IMPORTED_MODULE_2_preact_router_match__[\"Link\"],\n\t\t\t{ href: this.props.to, className: __WEBPACK_IMPORTED_MODULE_1__style___default.a.button },\n\t\t\tthis.props.children\n\t\t);\n\t};\n\n\treturn Button;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\n\n\n/***/ }),\n\n/***/ \"N3gZ\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"button\":\"button__2iZ3o\"};\n\n/***/ }),\n\n/***/ \"R+ko\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"fortress\":\"fortress__2f5gj\",\"window\":\"window__2C3Pi\",\"castle\":\"castle__2lR2_\",\"resources\":\"resources__37fZD\",\"end\":\"end__3lKKU\"};\n\n/***/ }),\n\n/***/ \"nzNR\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Auction; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_box__ = __webpack_require__(\"0+Hh\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_buttonLink__ = __webpack_require__(\"G44s\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_button__ = __webpack_require__(\"rAoZ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__style__ = __webpack_require__(\"R+ko\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__style___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__style__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\nvar Contract = __webpack_require__(\"+ENZ\").default;\n\nvar _ref = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('br', null);\n\nvar _ref2 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('br', null);\n\nvar _ref3 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('br', null);\n\nvar _ref4 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('br', null);\n\nvar _ref5 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('br', null);\n\nvar _ref6 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('br', null);\n\nvar _ref7 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('br', null);\n\nvar _ref8 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('br', null);\n\nvar _ref9 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('br', null);\n\nvar _ref10 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('br', null);\n\nvar _ref11 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t'h3',\n\tnull,\n\t'All Auctions'\n);\n\nvar _ref12 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t'h3',\n\tnull,\n\t'My Auctions'\n);\n\nvar Auction = function (_Component) {\n\t_inherits(Auction, _Component);\n\n\tfunction Auction() {\n\t\t_classCallCheck(this, Auction);\n\n\t\tvar _this = _possibleConstructorReturn(this, _Component.call(this));\n\n\t\t_this.state = {\n\t\t\tuserAuctions: {},\n\t\t\tauctions: {},\n\t\t\tpage: 0,\n\t\t\tuserPage: 0,\n\t\t\tuser: ''\n\t\t};\n\t\treturn _this;\n\t}\n\n\tAuction.prototype.componentWillMount = function componentWillMount() {\n\t\tthis.getAuctions();\n\t\tthis.getUserAuctions();\n\t};\n\n\tAuction.prototype.getAuctions = function getAuctions() {\n\t\tvar _this2 = this;\n\n\t\tContract.getAuctionsLength(function (err, res) {\n\t\t\t// pagination\n\t\t\tvar itemsPerPage = 10;\n\t\t\tvar limit = res.toNumber() - itemsPerPage * (_this2.state.page + 1);\n\t\t\tif (limit < 0) limit = 0;\n\t\t\tfor (var i = res.toNumber() - itemsPerPage * _this2.state.page; i > limit; i--) {\n\t\t\t\tContract.auctions(i - 1, function (err, auctionHash) {\n\t\t\t\t\tContract.getFortress(auctionHash, function (err, res) {\n\t\t\t\t\t\tvar newState = _extends({}, _this2.state, {\n\t\t\t\t\t\t\tauctions: _extends({}, _this2.state.auctions)\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnewState.auctions[auctionHash] = _extends({}, newState.auctions[auctionHash], {\n\t\t\t\t\t\t\tname: web3.toAscii(res[0]).replace(/\\u0000/g, ''),\n\t\t\t\t\t\t\tx: res[2].toNumber(),\n\t\t\t\t\t\t\ty: res[3].toNumber(),\n\t\t\t\t\t\t\twins: res[4].toNumber()\n\t\t\t\t\t\t});\n\t\t\t\t\t\t_this2.setState(newState);\n\t\t\t\t\t});\n\t\t\t\t\tContract.highestBid(auctionHash, function (err, res) {\n\t\t\t\t\t\tvar newState = _extends({}, _this2.state, {\n\t\t\t\t\t\t\tauctions: _extends({}, _this2.state.auctions),\n\t\t\t\t\t\t\tbids: _extends({}, _this2.state.bids)\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnewState.auctions[auctionHash] = _extends({}, newState.auctions[auctionHash], {\n\t\t\t\t\t\t\thighestBid: web3.fromWei(res.toNumber() / 99 * 100)\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnewState.bids[auctionHash] = parseFloat(web3.fromWei(res.toNumber() / 99 * 100)) + 0.1;\n\t\t\t\t\t\t_this2.setState(newState);\n\t\t\t\t\t});\n\t\t\t\t\tContract.auctionEnd(auctionHash, function (err, res) {\n\t\t\t\t\t\tvar newState = _extends({}, _this2.state, {\n\t\t\t\t\t\t\tauctions: _extends({}, _this2.state.auctions)\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnewState.auctions[auctionHash] = _extends({}, newState.auctions[auctionHash], {\n\t\t\t\t\t\t\tauctionEnd: res.toNumber()\n\t\t\t\t\t\t});\n\t\t\t\t\t\t_this2.setState(newState);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n\n\tAuction.prototype.getUserAuctions = function getUserAuctions() {\n\t\tvar _this3 = this;\n\n\t\tweb3.eth.getAccounts(function (error, accounts) {\n\t\t\t_this3.setState(_extends({}, _this3.state, {\n\t\t\t\tuser: accounts[0]\n\t\t\t}));\n\t\t\tContract.getUserAuctionsLength(accounts[0], function (err, res) {\n\t\t\t\t// pagination\n\t\t\t\tvar itemsPerPage = 5;\n\t\t\t\tvar limit = res.toNumber() - itemsPerPage * (_this3.state.userPage + 1);\n\t\t\t\tif (limit < 0) limit = 0;\n\t\t\t\tfor (var i = res.toNumber() - itemsPerPage * _this3.state.userPage; i > limit; i--) {\n\t\t\t\t\tContract.userAuctions(accounts[0], i - 1, function (err, auctionHash) {\n\t\t\t\t\t\tContract.getFortress(auctionHash, function (err, res) {\n\t\t\t\t\t\t\tvar newState = _extends({}, _this3.state, {\n\t\t\t\t\t\t\t\tuserAuctions: _extends({}, _this3.state.userAuctions)\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tnewState.userAuctions[auctionHash] = _extends({}, newState.userAuctions[auctionHash], {\n\t\t\t\t\t\t\t\tname: web3.toAscii(res[0]).replace(/\\u0000/g, ''),\n\t\t\t\t\t\t\t\tx: res[2].toNumber(),\n\t\t\t\t\t\t\t\ty: res[3].toNumber(),\n\t\t\t\t\t\t\t\twins: res[4].toNumber()\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t_this3.setState(newState);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tContract.highestBid(auctionHash, function (err, res) {\n\t\t\t\t\t\t\tvar newState = _extends({}, _this3.state, {\n\t\t\t\t\t\t\t\tuserAuctions: _extends({}, _this3.state.userAuctions)\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tnewState.userAuctions[auctionHash] = _extends({}, newState.userAuctions[auctionHash], {\n\t\t\t\t\t\t\t\thighestBid: web3.fromWei(res.toNumber() / 99 * 100)\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t_this3.setState(newState);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tContract.highestBidder(auctionHash, function (err, res) {\n\t\t\t\t\t\t\tvar newState = _extends({}, _this3.state, {\n\t\t\t\t\t\t\t\tuserAuctions: _extends({}, _this3.state.userAuctions)\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tnewState.userAuctions[auctionHash] = _extends({}, newState.userAuctions[auctionHash], {\n\t\t\t\t\t\t\t\thighestBidder: res\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t_this3.setState(newState);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tContract.auctionEnd(auctionHash, function (err, res) {\n\t\t\t\t\t\t\tvar newState = _extends({}, _this3.state, {\n\t\t\t\t\t\t\t\tuserAuctions: _extends({}, _this3.state.userAuctions)\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tnewState.userAuctions[auctionHash] = _extends({}, newState.userAuctions[auctionHash], {\n\t\t\t\t\t\t\t\tauctionEnd: res.toNumber()\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t_this3.setState(newState);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tContract.getAuctionAmount(auctionHash, accounts[0], function (err, res) {\n\t\t\t\t\t\t\tvar newState = _extends({}, _this3.state, {\n\t\t\t\t\t\t\t\tuserAuctions: _extends({}, _this3.state.userAuctions)\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tnewState.userAuctions[auctionHash] = _extends({}, newState.userAuctions[auctionHash], {\n\t\t\t\t\t\t\t\tamount: web3.fromWei(res.toNumber())\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t_this3.setState(newState);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\n\tAuction.prototype.updateInputValue = function updateInputValue(auction, evt) {\n\t\tvar newState = _extends({}, this.state, {\n\t\t\tbids: _extends({}, this.state.bids)\n\t\t});\n\t\tnewState.bids[auction] = evt.target.value;\n\t\tthis.setState(newState);\n\t};\n\n\tAuction.prototype.bid = function bid(auction) {\n\t\tContract.bidAuction(auction, {\n\t\t\tvalue: web3.toWei(this.state.bids[auction])\n\t\t}, function (err, res) {\n\t\t\tif (!err) {}\n\t\t});\n\t};\n\n\tAuction.prototype.claim = function claim(auction) {\n\t\tContract.endAuction(auction, function (err, res) {\n\t\t\tif (!err) {}\n\t\t});\n\t};\n\n\tAuction.prototype.withdraw = function withdraw(auction) {\n\t\tContract.withdraw(auction, function (err, res) {\n\t\t\tif (!err) {}\n\t\t});\n\t};\n\n\tAuction.prototype.render = function render() {\n\n\t\tvar auctions = [];\n\n\t\tfor (var hash in this.state.auctions) {\n\n\t\t\tvar input = '';\n\n\t\t\tif (this.state.bids && this.state.bids[hash]) {\n\t\t\t\tinput = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('input', { value: this.state.bids[hash], onChange: this.updateInputValue.bind(this, hash), className: __WEBPACK_IMPORTED_MODULE_4__style___default.a.input });\n\t\t\t}\n\n\t\t\tvar auctionEnd = new Date(this.state.auctions[hash].auctionEnd * 1000);\n\n\t\t\tvar actionButtons = '';\n\t\t\tif (Date.now() <= this.state.auctions[hash].auctionEnd * 1000) {\n\t\t\t\tactionButtons = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: __WEBPACK_IMPORTED_MODULE_4__style___default.a.resources },\n\t\t\t\t\tinput,\n\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t\t__WEBPACK_IMPORTED_MODULE_3__components_button__[\"a\" /* default */],\n\t\t\t\t\t\t{ onClick: this.bid.bind(this, hash) },\n\t\t\t\t\t\t'Bid'\n\t\t\t\t\t),\n\t\t\t\t\t'Steps in 0.1 ether',\n\t\t\t\t\t_ref,\n\t\t\t\t\t'If already bid, it increases your bid'\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tvar auction = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t'div',\n\t\t\t\t{ className: __WEBPACK_IMPORTED_MODULE_4__style___default.a.fortress },\n\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: __WEBPACK_IMPORTED_MODULE_4__style___default.a.window },\n\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('img', { src: '/assets/castle.png', width: '60', className: __WEBPACK_IMPORTED_MODULE_4__style___default.a.castle })\n\t\t\t\t),\n\t\t\t\tactionButtons,\n\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: __WEBPACK_IMPORTED_MODULE_4__style___default.a.content },\n\t\t\t\t\tthis.state.auctions[hash].name,\n\t\t\t\t\t' (',\n\t\t\t\t\tthis.state.auctions[hash].x,\n\t\t\t\t\t'/',\n\t\t\t\t\tthis.state.auctions[hash].y,\n\t\t\t\t\t')',\n\t\t\t\t\t_ref2,\n\t\t\t\t\t'Highest bid: ',\n\t\t\t\t\tthis.state.auctions[hash].highestBid,\n\t\t\t\t\t_ref3,\n\t\t\t\t\t'End:',\n\t\t\t\t\tauctionEnd.toLocaleDateString(\"en-US\", {\n\t\t\t\t\t\tyear: '2-digit',\n\t\t\t\t\t\tmonth: '2-digit',\n\t\t\t\t\t\tday: '2-digit',\n\t\t\t\t\t\thour: '2-digit',\n\t\t\t\t\t\tminute: '2-digit'\n\t\t\t\t\t}),\n\t\t\t\t\t_ref4,\n\t\t\t\t\t_ref5,\n\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t\t__WEBPACK_IMPORTED_MODULE_2__components_buttonLink__[\"a\" /* default */],\n\t\t\t\t\t\t{ to: '/fortress/' + hash },\n\t\t\t\t\t\t'Details'\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('div', { className: __WEBPACK_IMPORTED_MODULE_4__style___default.a.end })\n\t\t\t);\n\n\t\t\tauctions.push(auction);\n\t\t}\n\n\t\tvar userAuctions = [];\n\n\t\tfor (var hash in this.state.userAuctions) {\n\n\t\t\tvar input = '';\n\n\t\t\tif (this.state.bids && this.state.bids[hash]) {\n\t\t\t\tinput = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('input', { value: this.state.bids[hash], onChange: this.updateInputValue.bind(this, hash), className: __WEBPACK_IMPORTED_MODULE_4__style___default.a.input });\n\t\t\t}\n\n\t\t\tvar _auctionEnd = new Date(this.state.userAuctions[hash].auctionEnd * 1000);\n\n\t\t\tvar actionButtons = '';\n\t\t\tif (Date.now() <= this.state.userAuctions[hash].auctionEnd * 1000) {\n\t\t\t\tactionButtons = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: __WEBPACK_IMPORTED_MODULE_4__style___default.a.resources },\n\t\t\t\t\tinput,\n\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t\t__WEBPACK_IMPORTED_MODULE_3__components_button__[\"a\" /* default */],\n\t\t\t\t\t\t{ onClick: this.bid.bind(this, hash) },\n\t\t\t\t\t\t'Bid'\n\t\t\t\t\t),\n\t\t\t\t\t'If already bid, it increases your bid'\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\t// show withdraw or claim button\n\t\t\t\tif (this.state.userAuctions[hash].highestBidder === this.state.user) {\n\t\t\t\t\tactionButtons = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ className: __WEBPACK_IMPORTED_MODULE_4__style___default.a.resources },\n\t\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t\t\t__WEBPACK_IMPORTED_MODULE_3__components_button__[\"a\" /* default */],\n\t\t\t\t\t\t\t{ onClick: this.claim.bind(this, hash) },\n\t\t\t\t\t\t\t'Claim'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t'If this fails, increase gas limit'\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tactionButtons = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ className: __WEBPACK_IMPORTED_MODULE_4__style___default.a.resources },\n\t\t\t\t\t\t'Amount: ',\n\t\t\t\t\t\tthis.state.userAuctions[hash].amount,\n\t\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t\t\t__WEBPACK_IMPORTED_MODULE_3__components_button__[\"a\" /* default */],\n\t\t\t\t\t\t\t{ onClick: this.withdraw.bind(this, hash) },\n\t\t\t\t\t\t\t'Withdraw'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t'If this fails, increase gas limit'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar _auction = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t'div',\n\t\t\t\t{ className: __WEBPACK_IMPORTED_MODULE_4__style___default.a.fortress },\n\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: __WEBPACK_IMPORTED_MODULE_4__style___default.a.window },\n\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('img', { src: '/assets/castle.png', width: '60', className: __WEBPACK_IMPORTED_MODULE_4__style___default.a.castle })\n\t\t\t\t),\n\t\t\t\tactionButtons,\n\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: __WEBPACK_IMPORTED_MODULE_4__style___default.a.content },\n\t\t\t\t\tthis.state.userAuctions[hash].name,\n\t\t\t\t\t' (',\n\t\t\t\t\tthis.state.userAuctions[hash].x,\n\t\t\t\t\t'/',\n\t\t\t\t\tthis.state.userAuctions[hash].y,\n\t\t\t\t\t')',\n\t\t\t\t\t_ref6,\n\t\t\t\t\t'Highest bid: ',\n\t\t\t\t\tthis.state.userAuctions[hash].highestBid,\n\t\t\t\t\t_ref7,\n\t\t\t\t\t'End:',\n\t\t\t\t\t_auctionEnd.toLocaleDateString(\"en-US\", {\n\t\t\t\t\t\tyear: '2-digit',\n\t\t\t\t\t\tmonth: '2-digit',\n\t\t\t\t\t\tday: '2-digit',\n\t\t\t\t\t\thour: '2-digit',\n\t\t\t\t\t\tminute: '2-digit'\n\t\t\t\t\t}),\n\t\t\t\t\t_ref8,\n\t\t\t\t\t_ref9,\n\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t\t\t\t__WEBPACK_IMPORTED_MODULE_2__components_buttonLink__[\"a\" /* default */],\n\t\t\t\t\t\t{ to: '/fortress/' + hash },\n\t\t\t\t\t\t'Details'\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('div', { className: __WEBPACK_IMPORTED_MODULE_4__style___default.a.end })\n\t\t\t);\n\n\t\t\tuserAuctions.push(_auction);\n\t\t}\n\n\t\treturn Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n\t\t\t__WEBPACK_IMPORTED_MODULE_1__components_box__[\"a\" /* default */],\n\t\t\tnull,\n\t\t\t'Caution! If you win your own auction, you can reclaim the fortress, but not the ether!',\n\t\t\t_ref10,\n\t\t\t'There is also a 1% fee!',\n\t\t\t_ref11,\n\t\t\tauctions,\n\t\t\t_ref12,\n\t\t\tuserAuctions\n\t\t);\n\t};\n\n\treturn Auction;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-auction.chunk.906d0.js","import { h, Component } from 'preact';\nimport style from './style';\nimport { Link } from 'preact-router/match';\n\nexport default class Button extends Component {\n\n\trender() {\n\t\treturn (\n\t\t\t<Link href={this.props.to} className={style.button}>\n                {this.props.children}\n            </Link>\n\t\t);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/buttonLink/index.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"button\":\"button__2iZ3o\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/buttonLink/style.css\n// module id = N3gZ\n// module chunks = 0 1","// removed by extract-text-webpack-plugin\nmodule.exports = {\"fortress\":\"fortress__2f5gj\",\"window\":\"window__2C3Pi\",\"castle\":\"castle__2lR2_\",\"resources\":\"resources__37fZD\",\"end\":\"end__3lKKU\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./routes/auction/style.css\n// module id = R+ko\n// module chunks = 1","import { h, Component } from 'preact';\nimport Box from '../../components/box';\nimport ButtonLink from '../../components/buttonLink';\nimport Button from '../../components/button';\nimport style from './style';\n\nconst Contract = require('./../../contract').default;\n\nexport default class Auction extends Component {\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.state = {\n\t\t\tuserAuctions: {},\n\t\t\tauctions: {},\n\t\t\tpage: 0,\n\t\t\tuserPage: 0,\n\t\t\tuser: ''\n\t\t}\n\t}\n\n\tcomponentWillMount() {\n\t\tthis.getAuctions();\n\t\tthis.getUserAuctions();\n\t}\n\n\tgetAuctions() {\n\t\tContract.getAuctionsLength((err, res) => {\n\t\t\t// pagination\n\t\t\tconst itemsPerPage = 10;\n\t\t\tvar limit = res.toNumber() - (itemsPerPage * (this.state.page + 1));\n\t\t\tif (limit < 0) limit = 0;\n\t\t\tfor (let i = res.toNumber() - (itemsPerPage * (this.state.page)); i > limit; i--) {\n\t\t\t\tContract.auctions((i - 1), (err, auctionHash) => {\n\t\t\t\t\tContract.getFortress(auctionHash, (err, res) => {\n\t\t\t\t\t\tvar newState = {\n\t\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\t\tauctions: {\n\t\t\t\t\t\t\t\t...this.state.auctions,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tnewState.auctions[auctionHash] = {\n\t\t\t\t\t\t\t...newState.auctions[auctionHash],\n\t\t\t\t\t\t\tname: web3.toAscii(res[0]).replace(/\\u0000/g, ''),\n\t\t\t\t\t\t\tx: res[2].toNumber(),\n\t\t\t\t\t\t\ty: res[3].toNumber(),\n\t\t\t\t\t\t\twins: res[4].toNumber(),\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setState(newState);\n\t\t\t\t\t});\n\t\t\t\t\tContract.highestBid(auctionHash, (err, res) => {\n\t\t\t\t\t\tvar newState = {\n\t\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\t\tauctions: {\n\t\t\t\t\t\t\t\t...this.state.auctions,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbids: {\n\t\t\t\t\t\t\t\t...this.state.bids,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tnewState.auctions[auctionHash] = {\n\t\t\t\t\t\t\t...newState.auctions[auctionHash],\n\t\t\t\t\t\t\thighestBid: web3.fromWei(res.toNumber() / 99 * 100),\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewState.bids[auctionHash] = parseFloat(web3.fromWei(res.toNumber() / 99 * 100)) + 0.1;\n\t\t\t\t\t\tthis.setState(newState);\n\t\t\t\t\t});\n\t\t\t\t\tContract.auctionEnd(auctionHash, (err, res) => {\n\t\t\t\t\t\tvar newState = {\n\t\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\t\tauctions: {\n\t\t\t\t\t\t\t\t...this.state.auctions,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tnewState.auctions[auctionHash] = {\n\t\t\t\t\t\t\t...newState.auctions[auctionHash],\n\t\t\t\t\t\t\tauctionEnd: res.toNumber(),\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setState(newState);\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t}\n\t\t});\n\t}\n\n\tgetUserAuctions() {\n\t\tweb3.eth.getAccounts((error, accounts) => {\n\t\t\tthis.setState({\n\t\t\t\t...this.state,\n\t\t\t\tuser: accounts[0]\n\t\t\t});\n\t\t\tContract.getUserAuctionsLength(accounts[0], (err, res) => {\n\t\t\t\t// pagination\n\t\t\t\tconst itemsPerPage = 5;\n\t\t\t\tvar limit = res.toNumber() - (itemsPerPage * (this.state.userPage + 1));\n\t\t\t\tif (limit < 0) limit = 0;\n\t\t\t\tfor (let i = res.toNumber() - (itemsPerPage * (this.state.userPage)); i > limit; i--) {\n\t\t\t\t\tContract.userAuctions(accounts[0], (i - 1), (err, auctionHash) => {\n\t\t\t\t\t\tContract.getFortress(auctionHash, (err, res) => {\n\t\t\t\t\t\t\tvar newState = {\n\t\t\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\t\t\tuserAuctions: {\n\t\t\t\t\t\t\t\t\t...this.state.userAuctions,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tnewState.userAuctions[auctionHash] = {\n\t\t\t\t\t\t\t\t...newState.userAuctions[auctionHash],\n\t\t\t\t\t\t\t\tname: web3.toAscii(res[0]).replace(/\\u0000/g, ''),\n\t\t\t\t\t\t\t\tx: res[2].toNumber(),\n\t\t\t\t\t\t\t\ty: res[3].toNumber(),\n\t\t\t\t\t\t\t\twins: res[4].toNumber(),\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tthis.setState(newState);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tContract.highestBid(auctionHash, (err, res) => {\n\t\t\t\t\t\t\tvar newState = {\n\t\t\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\t\t\tuserAuctions: {\n\t\t\t\t\t\t\t\t\t...this.state.userAuctions,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tnewState.userAuctions[auctionHash] = {\n\t\t\t\t\t\t\t\t...newState.userAuctions[auctionHash],\n\t\t\t\t\t\t\t\thighestBid: web3.fromWei(res.toNumber() / 99 * 100),\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tthis.setState(newState);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tContract.highestBidder(auctionHash, (err, res) => {\n\t\t\t\t\t\t\tvar newState = {\n\t\t\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\t\t\tuserAuctions: {\n\t\t\t\t\t\t\t\t\t...this.state.userAuctions,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tnewState.userAuctions[auctionHash] = {\n\t\t\t\t\t\t\t\t...newState.userAuctions[auctionHash],\n\t\t\t\t\t\t\t\thighestBidder: res,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tthis.setState(newState);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tContract.auctionEnd(auctionHash, (err, res) => {\n\t\t\t\t\t\t\tvar newState = {\n\t\t\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\t\t\tuserAuctions: {\n\t\t\t\t\t\t\t\t\t...this.state.userAuctions,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tnewState.userAuctions[auctionHash] = {\n\t\t\t\t\t\t\t\t...newState.userAuctions[auctionHash],\n\t\t\t\t\t\t\t\tauctionEnd: res.toNumber(),\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tthis.setState(newState);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tContract.getAuctionAmount(auctionHash, accounts[0], (err, res) => {\n\t\t\t\t\t\t\tvar newState = {\n\t\t\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\t\t\tuserAuctions: {\n\t\t\t\t\t\t\t\t\t...this.state.userAuctions,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tnewState.userAuctions[auctionHash] = {\n\t\t\t\t\t\t\t\t...newState.userAuctions[auctionHash],\n\t\t\t\t\t\t\t\tamount: web3.fromWei(res.toNumber()),\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tthis.setState(newState);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\t\n\tupdateInputValue(auction, evt) {\n\t\tvar newState = {\n\t\t\t...this.state,\n\t\t\tbids: {\n\t\t\t\t...this.state.bids,\n\t\t\t}\n\t\t};\n\t\tnewState.bids[auction] = evt.target.value;\n\t\tthis.setState(newState);\n\t}\n\t\n\tbid(auction) {\n\t\tContract.bidAuction(auction, {\n            value: web3.toWei(this.state.bids[auction])\n        }, (err, res) => {\n            if (!err) {\n                \n            }\n        });\n\t}\n\t\n\tclaim(auction) {\n\t\tContract.endAuction(auction, (err, res) => {\n            if (!err) {\n                \n            }\n        });\n\t}\n\t\n\twithdraw(auction) {\n\t\tContract.withdraw(auction, (err, res) => {\n            if (!err) {\n                \n            }\n        });\n\t}\n\n\trender() {\n\n\t\tconst auctions = [];\n\n\t\tfor (var hash in this.state.auctions) {\n\n\t\t\tvar input = '';\n\n\t\t\tif (this.state.bids && this.state.bids[hash]) {\n\t\t\t\tinput = (\n\t\t\t\t\t<input value={this.state.bids[hash]} onChange={this.updateInputValue.bind(this, hash)} className={style.input} />\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst auctionEnd = new Date(this.state.auctions[hash].auctionEnd * 1000);\n\n\t\t\tvar actionButtons = '';\n\t\t\tif (Date.now() <= (this.state.auctions[hash].auctionEnd * 1000)) {\n\t\t\t\tactionButtons = (\n\t\t\t\t\t<div className={style.resources}>\n\t\t\t\t\t\t{input}\n\t\t\t\t\t\t<Button onClick={this.bid.bind(this, hash)}>\n\t\t\t\t\t\t\tBid\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\tSteps in 0.1 ether<br />\n\t\t\t\t\t\tIf already bid, it increases your bid\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst auction = (\n\t\t\t\t<div className={style.fortress}>\n\t\t\t\t\t<div className={style.window}>\n\t\t\t\t\t\t<img src='/assets/castle.png' width=\"60\" className={style.castle} />\n\t\t\t\t\t</div>\n\t\t\t\t\t{actionButtons}\n\t\t\t\t\t<div className={style.content}>\n\t\t\t\t\t\t{this.state.auctions[hash].name} ({this.state.auctions[hash].x}/{this.state.auctions[hash].y})<br />\n\t\t\t\t\t\tHighest bid: {this.state.auctions[hash].highestBid}<br />\n\t\t\t\t\t\tEnd:{auctionEnd.toLocaleDateString(\"en-US\", {\n\t\t\t\t\t\t\tyear: '2-digit',\n\t\t\t\t\t\t\tmonth: '2-digit',\n\t\t\t\t\t\t\tday: '2-digit',\n\t\t\t\t\t\t\thour: '2-digit',\n\t\t\t\t\t\t\tminute: '2-digit'\n\t\t\t\t\t\t})}<br /><br />\n\t\t\t\t\t\t<ButtonLink to={'/fortress/' + hash}>Details</ButtonLink>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={style.end} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tauctions.push(auction);\n\t\t}\n\t\t\n\t\tconst userAuctions = [];\n\n\t\tfor (var hash in this.state.userAuctions) {\n\t\t\t\n\t\t\tvar input = '';\n\n\t\t\tif (this.state.bids && this.state.bids[hash]) {\n\t\t\t\tinput = (\n\t\t\t\t\t<input value={this.state.bids[hash]} onChange={this.updateInputValue.bind(this, hash)} className={style.input} />\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst auctionEnd = new Date(this.state.userAuctions[hash].auctionEnd * 1000);\n\n\t\t\tvar actionButtons = '';\n\t\t\tif (Date.now() <= (this.state.userAuctions[hash].auctionEnd * 1000)) {\n\t\t\t\tactionButtons = (\n\t\t\t\t\t<div className={style.resources}>\n\t\t\t\t\t\t{input}\n\t\t\t\t\t\t<Button onClick={this.bid.bind(this, hash)}>\n\t\t\t\t\t\t\tBid\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\tIf already bid, it increases your bid\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\t// show withdraw or claim button\n\t\t\t\tif (this.state.userAuctions[hash].highestBidder === this.state.user) {\n\t\t\t\t\tactionButtons = (\n\t\t\t\t\t\t<div className={style.resources}>\n\t\t\t\t\t\t\t<Button onClick={this.claim.bind(this, hash)}>\n\t\t\t\t\t\t\t\tClaim\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\tIf this fails, increase gas limit\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tactionButtons = (\n\t\t\t\t\t\t<div className={style.resources}>\n\t\t\t\t\t\t\tAmount: {this.state.userAuctions[hash].amount} \n\t\t\t\t\t\t\t<Button onClick={this.withdraw.bind(this, hash)}>\n\t\t\t\t\t\t\t\tWithdraw\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\tIf this fails, increase gas limit\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst auction = (\n\t\t\t\t<div className={style.fortress}>\n\t\t\t\t\t<div className={style.window}>\n\t\t\t\t\t\t<img src='/assets/castle.png' width=\"60\" className={style.castle} />\n\t\t\t\t\t</div>\n\t\t\t\t\t{actionButtons}\n\t\t\t\t\t<div className={style.content}>\n\t\t\t\t\t\t{this.state.userAuctions[hash].name} ({this.state.userAuctions[hash].x}/{this.state.userAuctions[hash].y})<br />\n\t\t\t\t\t\tHighest bid: {this.state.userAuctions[hash].highestBid}<br />\n\t\t\t\t\t\tEnd:{auctionEnd.toLocaleDateString(\"en-US\", {\n\t\t\t\t\t\t\tyear: '2-digit',\n\t\t\t\t\t\t\tmonth: '2-digit',\n\t\t\t\t\t\t\tday: '2-digit',\n\t\t\t\t\t\t\thour: '2-digit',\n\t\t\t\t\t\t\tminute: '2-digit'\n\t\t\t\t\t\t})}<br /><br />\n\t\t\t\t\t\t<ButtonLink to={'/fortress/' + hash}>Details</ButtonLink>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={style.end} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tuserAuctions.push(auction);\n\t\t}\n\n\t\treturn (\n\t\t\t<Box>\n\t\t\t\tCaution! If you win your own auction, you can reclaim the fortress, but not the ether!<br />\n\t\t\t\tThere is also a 1% fee!\n\t\t\t\t<h3>All Auctions</h3>\n\t\t\t\t{auctions}\n\t\t\t\t<h3>My Auctions</h3>\n\t\t\t\t{userAuctions}\n\t\t\t</Box>\n\t\t);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./routes/auction/index.js"],"sourceRoot":""}